<p>Lists</p>

<section class="lists">
  <h1>Public Watch Lists</h1>
  <% if @lists.any? %>
    <div>
      <% @lists.each do |list| %>
        <article class="list-card">
          <h2><%= link_to list.name, list_path(list) %></h2>
          <% if list.description.present? %>
            <p><%= truncate(list.description, length: 140) %></p>
          <% end %>
          <p>
            <span><%= list.user.email %></span>
            <span><%= pluralize(list.bookmarks.size, "movie") %></span>
          </p>
          <% if current_user == list.user %>
            <%= link_to "Edit", edit_list_path(list) %>
            <%= link_to "Delete", list_path(list),
              data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } %>
          <% end %>
        </article>
      <% end %>
    </div>
  <% else %>
    <p>There are no public lists yet.</p>
  <% end %>
</section>
